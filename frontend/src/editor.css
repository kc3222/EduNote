/* Milkdown component container */
.milkdown {
    height: 100%;
    display: flex;
    flex-direction: column;
}

/* ProseMirror editor */
.ProseMirror {
    height: calc(100vh - 180px) !important;
    min-height: calc(100vh - 180px) !important;
    max-height: calc(100vh - 180px) !important;
    overflow-y: auto;
    flex: 1;
    display: flex;
    flex-direction: column;
}

/* Base container */
.prosemirror-editor {
    line-height: var(--md-line-height, 1.65);
    padding: 16px 18px;
    outline: none;
    background: white;
    height: calc(100vh - 180px) !important;
    min-height: calc(100vh - 180px) !important;
    overflow-y: auto;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    flex: 1;
    font-size: var(--md-font-size, 16px);
    font-family: var(--md-font-family, Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif);
  }

/* Force height inheritance for all nested elements */
.prosemirror-editor * {
    max-height: 100%;
}

/* Force the editor content to fill the available space */
.prosemirror-editor .ProseMirror {
    flex: 1;
    min-height: 0;
    overflow-y: auto;
}

/* Editor content wrapper */
.prosemirror-editor .ProseMirror > div {
    height: 100%;
    min-height: 100%;
    overflow-y: auto;
}
  
  /* Headings */
  .prosemirror-editor h1 { font-size: 1.875rem; font-weight: 700; margin: 1.25rem 0 .5rem; }
  .prosemirror-editor h2 { font-size: 1.5rem;   font-weight: 700; margin: 1.1rem 0 .5rem; }
  .prosemirror-editor h3 { font-size: 1.25rem;  font-weight: 600; margin: .9rem 0 .5rem; }
  .prosemirror-editor h4 { font-size: 1.125rem; font-weight: 600; margin: .8rem 0 .5rem; }
  .prosemirror-editor h5 { font-size: 1rem;     font-weight: 600; margin: .7rem 0 .4rem; }
  .prosemirror-editor h6 { font-size: .875rem;  font-weight: 600; letter-spacing: .02em; color: #475569; margin: .6rem 0 .4rem; }
  
  /* Paragraph & lists */
  .prosemirror-editor p { margin: .5rem 0; }
  .prosemirror-editor ul, .prosemirror-editor ol { padding-left: 1.25rem; margin: .5rem 0; }
  .prosemirror-editor ul { list-style: disc; }
  .prosemirror-editor ol { list-style: decimal; }
  .prosemirror-editor li > p { margin: .25rem 0; }
  
  /* Blockquote */
  .prosemirror-editor blockquote {
    border-left: 4px solid #e2e8f0;
    padding: .25rem .75rem;
    color: #475569;
    margin: .75rem 0;
    background: #f8fafc;
  }
  
  /* Code */
  .prosemirror-editor code,
  .prosemirror-editor pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    font-size: .9em;
  }
  .prosemirror-editor code {
    background: #f1f5f9;
    padding: .15rem .35rem;
    border-radius: .375rem;
  }
  .prosemirror-editor pre {
    background: #0b1220;
    color: #e2e8f0;
    padding: .9rem 1rem;
    border-radius: .5rem;
    overflow: auto;
  }
  .prosemirror-editor pre code { background: transparent; padding: 0; }

.markdown-toolbar {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
    align-items: flex-end;
    padding: 0.65rem 0.9rem;
    border-bottom: 1px solid #e2e8f0;
    background: #f8fafc;
}

.markdown-toolbar__group {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
    font-size: 0.75rem;
    color: #475569;
}

.markdown-toolbar__label {
    text-transform: uppercase;
    letter-spacing: 0.04em;
}

.markdown-toolbar__select {
    min-width: 140px;
    border: 1px solid #cbd5f5;
    border-radius: 6px;
    padding: 0.35rem 0.5rem;
    background: white;
    font-size: 0.85rem;
    color: #0f172a;
}

.markdown-toolbar__button {
    border: 1px solid #cbd5f5;
    border-radius: 6px;
    padding: 0.4rem 0.85rem;
    font-size: 0.85rem;
    background: white;
    color: #0f172a;
    cursor: pointer;
    transition: background 0.15s ease, color 0.15s ease;
}

.markdown-toolbar__button:hover {
    background: #e0ecff;
    color: #1d4ed8;
}

.markdown-toolbar__button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background: #e2e8f0;
    color: #64748b;
}
  
  /* HR, links, images */
  .prosemirror-editor hr {
    border: none;
    border-top: 1px solid #e2e8f0;
    margin: 1rem 0;
  }
  .prosemirror-editor a { color: #2563eb; text-decoration: underline; }
  .prosemirror-editor img { max-width: 100%; height: auto; border-radius: .25rem; }
  
  /* Selection & focus */
  .prosemirror-editor .ProseMirror-selectednode { outline: 2px solid #93c5fd; }
  
  /* Placeholder (optional) */
  .prosemirror-editor .ProseMirror p.is-empty::before {
    content: attr(data-placeholder);
    color: #94a3b8;
    float: left; height: 0; pointer-events: none;
  }
  
  /* Formatted text spans - preserve formatting */
  .prosemirror-editor [data-formatted="true"] {
    display: inline !important;
  }
  